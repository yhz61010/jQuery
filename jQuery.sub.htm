<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<div xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:fn="http://www.w3.org/2005/xpath-functions" class="entry">
   <h2><span>返回值:jQuery</span>jQuery.sub()<br></h2>
   <div class="desc">
      <p>Creates a new copy of jQuery whose properties and methods can be modified without affecting the original jQuery object.</p>
      <ul class="signatures">
         <li>
            <h4><span>1.5 新增</span>jQuery.sub()
               								
            </h4>
         </li>
      </ul>
      <div class="longdesc">
         
         <p>There are two specific use cases for which jQuery.sub() was created. The first was for providing a painless way of overriding
            jQuery methods without completely destroying the original methods and another was for helping to do encapsulation and basic
            namespacing for jQuery plugins.
         </p>
         
         <p>Note that jQuery.sub() doesn't attempt to do any sort of isolation - that's not its intention. All the methods on the sub'd
            version of jQuery will still point to the original jQuery (events bound and triggered will still be through the main jQuery,
            data will be bound to elements through the main jQuery, Ajax queries and events will run through the main jQuery, etc.).
         </p>
         
         <p>Note that if you're looking to use this for plugin development you should first <i>strongly</i> consider using something like the jQuery UI widget factory which manages both state and plugin sub-methods. <a href="http://blog.nemikor.com/2010/05/15/building-stateful-jquery-plugins/">Some examples of using the jQuery UI widget factory</a> to build a plugin.
         </p>
         
         <p>The particular use cases of this method can be best described through some examples.</p>
         
      </div>
   </div>
   <div class="example">
      <h3>示例:</h3>
      <p>Adding a method to a jQuery sub so that it isn't exposed externally:</p>
      <h5>jQuery 代码:</h5><pre><code>  (function(){
    var sub$ = jQuery.sub();

    sub$.fn.myCustomMethod = function(){
      return 'just for me';
    };

    sub$(document).ready(function() {
      sub$('body').myCustomMethod() // 'just for me'
    });
  })();
  
  typeof jQuery('body').myCustomMethod // undefined</code></pre><h3>示例:</h3>
      <p>Override some jQuery methods to provide new functionality.</p>
      <h5>jQuery 代码:</h5><pre><code>
(function() {
  var myjQuery = jQuery.sub();

  myjQuery.fn.remove = function() {
    // New functionality: Trigger a remove event
    this.trigger("remove");

    // Be sure to call the original jQuery remove method
    return jQuery.fn.remove.apply( this, arguments );
  };

  myjQuery(function($) {
    $(".menu").click(function() {
      $(this).find(".submenu").remove();
    });

    // A new remove event is now triggered from this copy of jQuery
    $(document).bind("remove", function(e) {
      $(e.target).parent().hide();
    });
  });
})();

// Regular jQuery doesn't trigger a remove event when removing an element
// This functionality is only contained within the modified 'myjQuery'.</code></pre><h3>示例:</h3>
      <p>Create a plugin that returns plugin-specific methods.</p>
      <h5>jQuery 代码:</h5><pre><code>
(function() {
  // Create a new copy of jQuery using sub()
  var plugin = jQuery.sub();

  // Extend that copy with the new plugin methods
  plugin.fn.extend({
    open: function() {
      return this.show();
    },
    close: function() {
      return this.hide();
    }
  });

  // Add our plugin to the original jQuery
  jQuery.fn.myplugin = function() {
    this.addClass("plugin");

    // Make sure our plugin returns our special plugin version of jQuery
    return plugin( this );
  };
})();

$(document).ready(function() {
  // Call the plugin, open method now exists
  $('#main').myplugin().open();

  // Note: Calling just $("#main").open() won't work as open doesn't exist!
});</code></pre></div>
</div>