<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<div xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:fn="http://www.w3.org/2005/xpath-functions" class="entry">
   <h2><span>返回值:jqXHR</span>jQuery.post(url, <em class="optional">[data]</em>, <em class="optional">[success(data, textStatus, jqXHR)]</em>, <em class="optional">[dataType]</em>)<br></h2>
   <div class="desc">
      <p>通过 HTTP POST 方式从服务器载入数据。</p>
      <ul class="signatures">
         <li>
            <h4><span>1.0 新增</span>jQuery.post(url, <em class="optional">[data]</em>, <em class="optional">[success(data, textStatus, jqXHR)]</em>, <em class="optional">[dataType]</em>)
               								
            </h4>
            <div class="arguement"><strong>url</strong>
               								(String)
               								将要被请求的 URL 字符串。
            </div>
            <div class="arguement"><strong>data</strong>
               								(Map, String)
               								 可选参数，发送给服务器的字符串或者映射。
            </div>
            <div class="arguement"><strong>success(data, textStatus, jqXHR)</strong>
               								(Function)
               								 可选参数，当请求成功后执行的回调函数。
            </div>
            <div class="arguement"><strong>dataType</strong>
               								(String)
               								 可选参数，预计从服务器返回的数据类型。默认值：智能匹配 (xml, json, script, text 或 html)。
            </div>
         </li>
      </ul>
      <div class="longdesc">
         
         <p>这是一个 Ajax 函数的简写形式，它等价于：</p>
         <pre>$.ajax({
  type: 'POST',
  url: <em>url</em>,
  data: <em>data</em>,
  success: <em>success</em>,
  dataType: <em>dataType</em>
});
</pre>
         <p><code>success</code> 回调函数会传入返回的数据，根据响应的 MIME 类型的不同，它可能是一个 XML 根元素、文本字符串、JavaScript 文件或者 JSON 对象。同时还会传入描述响应状态的字符串。
         </p>
         
         <p>
            <strong>从 jQuery 1.5 开始</strong>, <code>success</code> 回调函数还会传入一个 <a href="http://api.jquery.com/jQuery.get/#jqxhr-object">"jqXHR" 对象</a> (在 <strong>jQuery 1.4</strong> 中, <code>success</code> 回调函数传入一个 <code>XMLHttpRequest</code> 对象)。
         </p>
         
         <p>大多数情况下都会指定一个请求成功后的回调函数：</p>
         <pre>$.post('ajax/test.html', function(data) {
  $('.result').html(data);
});
</pre>
         <p>这个例子会把请求到的 HTML 代码片段插入到页面中。</p>
         
         <p>用 <code>POST</code> 方式获取的页面永远不会被缓存，所以通过 <code><a href="jQuery.ajaxSetup.htm">jQuery.ajaxSetup()</a></code> 设置的 <code>cache</code> 和 <code>ifModified</code> 选项在这些请求中是无效的。
         </p>
         
         <h4 id="jqxhr-object">jqXHR 对象</h4>
         
         <p>
            <strong>从 jQuery 1.5 开始</strong>,所有 jQuery 的 Ajax 方法都返回一个 <code>XMLHTTPRequest</code> 对象的超集。由 <code>$.post()</code> 方法返回的 jQuery XHR 对象（也可叫做 "jqXHR") 实现了 Promise 接口，使它拥有 Promise 的所有属性，方法和行为。(详见 <a href="http://api.jquery.com/category/deferred-object/">延迟对象</a> 来获得更多信息)。为了让回调函数的名字统一，便于在 <code>
               <a href="jQuery.ajax.htm">$.ajax()</a>
               </code> 里使用, jQuery XHR 对象（也可叫做 "jqXHR")同样也提供了 <code>.error()</code>, <code>.success()</code> 和 <code>.complete()</code> 方法。这些方法都带有一个参数，该参数是一个函数，此函数在 <code>$.ajax()</code> 请求结束时被调用,并且这个函数接收的参数，与调用 <code>$.ajax()</code> 函数时的参数是一致。
         </p>
         
         
         <p>Promise 接口在 jQuery 1.5 里，允许在 <code>$.post()</code> 方法后直接注册 <code>.success()</code>, <code>.complete()</code> 和 <code>.error()</code> 回调函数，甚至允许你在请求已经结束后，注册回调函数。如果该请求已经完成，则回调函数会被立刻调用。
         </p>
         <pre>// Assign handlers immediately after making the request,
    // and remember the jqxhr object for this request
    var jqxhr = $.post("example.php", function() {
      alert("success");
    })
    .success(function() { alert("second success"); })
    .error(function() { alert("error"); })
    .complete(function() { alert("complete"); });

    // perform other work here ...

    // Set another completion function for the request above
    jqxhr.complete(function(){ alert("second complete"); });</pre>
         		       </div>
      <h3 id="notes-0">补充说明:</h3>
      <div class="longdesc">
         <ul>
            <li>由于浏览器的安全限制，大多数 "Ajax" 请求都服从 <a title="Same Origin Policy on Wikipedia" href="http://en.wikipedia.org/wiki/Same_origin_policy">同源策略(same origin policy)</a>。即无法从不同的域，子域或协议中正确接收数据。
            </li>
            <li>如果 jQuery.post() 返回一个错误代码,除非在脚本中调用了全局的 <a href="ajaxError.htm">.ajaxError() </a> 方法，否则错误将被忽略。或者利用 jQuery 1.5 中 <code>jqXHR</code> 对象的 <code>.error()</code> 方法进行捕获，<code>jqXHR</code> 对象由 jQuery.post() 返回。
            </li>
         </ul>
      </div>
   </div>
   <div class="example">
      <h3>示例:</h3>
      <p>请求 test.php 页面，但忽略返回的结果。</p>
      <h5>jQuery 代码:</h5><pre><code>$.post("test.php");</code></pre><h3>示例:</h3>
      <p>请求 test.php 页面，并传递一些附加的数据，但依然忽略返回的结果。</p>
      <h5>jQuery 代码:</h5><pre><code>$.post("test.php", { name: "John", time: "2pm" } );</code></pre><h3>示例:</h3>
      <p>传递一个数组到服务器，继续忽略返回的结果。</p>
      <h5>jQuery 代码:</h5><pre><code>$.post("test.php", { 'choices[]': ["Jon", "Susan"] });</code></pre><h3>示例:</h3>
      <p>send form data using ajax requests</p>
      <h5>jQuery 代码:</h5><pre><code>$.post("test.php", $("#testform").serialize());</code></pre><h3>示例:</h3>
      <p>显示从 test.php 请求到的结果(HTML 或者 XML，根据返回的结果而不同)。</p>
      <h5>jQuery 代码:</h5><pre><code>$.post("test.php", function(data) {
   alert("Data Loaded: " + data);
 });</code></pre><h3>示例:</h3>
      <p>弹出显示从 test.php 请求到的结果，同时传递一些数据(HTML 或者 XML，根据返回的结果而不同)。</p>
      <h5>jQuery 代码:</h5><pre><code>$.post("test.php", { name: "John", time: "2pm" },
   function(data) {
     alert("Data Loaded: " + data);
   });</code></pre><h3>示例:</h3>
      <p>获取 test.php 页面的内容，并将内容保存在 XMLHttpResponse 对象中，同时交给 process() 函数做进一步处理。</p>
      <h5>jQuery 代码:</h5><pre><code>$.post("test.php", { name: "John", time: "2pm" },
 function(data) {
   process(data);
 }, 
 "xml"
);</code></pre><h3>示例:</h3>
      <p>获取 test.php 页面的内容，其内容是 JSON 格式 (&lt;?php echo json_encode(array("name"=&gt;"John","time"=&gt;"2pm")); ?&gt;)。</p>
      <h5>jQuery 代码:</h5><pre><code>$.post("test.php", { "func": "getNameAndTime" },
 function(data){
   console.log(data.name); // John
   console.log(data.time); //  2pm
 }, "json");</code></pre><h3>示例:</h3>
      <p>使用 ajax 提交表单，并将结果放到一个 div 中。</p><pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;script src="jquery.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;form action="/" id="searchForm"&gt;
   &lt;input type="text" name="s" placeholder="Search..." /&gt;
   &lt;input type="submit" value="Search" /&gt;
  &lt;/form&gt;
  &lt;!-- the result of the search will be rendered inside this div --&gt;
  &lt;div id="result"&gt;&lt;/div&gt;


&lt;script&gt;


  /* attach a submit handler to the form */
  $("#searchForm").submit(function(event) {

    /* stop form from submitting normally */
    event.preventDefault(); 
        
    /* get some values from elements on the page: */
    var $form = $( this ),
        term = $form.find( 'input[name="s"]' ).val(),
        url = $form.attr( 'action' );

    /* Send the data using post and put the results in a div */
    $.post( url, { s: term },
      function( data ) {
          var content = $( data ).find( '#content' );
          $( "#result" ).empty().append( content );
      }
    );
  });


&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><h4>演示:</h4><iframe src="blank.html" width="658" height="125"></iframe></div>
</div>